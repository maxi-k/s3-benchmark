#!/bin/sh
[ -z $1 ] && echo "Please provide a file and optionally an editor command" >&2 && exit 2
[ ! -f $1 ] && echo "File does not exist" >&2 && exit 2

FILE=$1
EDIT=${2:-"soffice"}

FILENAME=$(basename -- "$FILE")
FILEPATH=/tmp/with-header-$FILENAME

case $FILENAME in
  bench-*) HEADER=./bench-header.csv  ;;
  stats-*) HEADER=./stats-header.csv  ;;
  *) echo "Unrecognized file prefix for $FILE, exiting" >&2 && exit ;;
esac

echo "using header $HEADER, creating file $FILEPATH"
cat $HEADER $FILE > $FILEPATH

$EDIT $FILEPATH
